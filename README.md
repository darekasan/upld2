# upld2
楽曲用アップローダー 自分用

### できること
- wavファイルのアップロード
- サーバーサイドでmp3変換と波形画像生成
- 同期再生でみんなで一斉に聴ける(WebSocketで通信して複数端末で同時に再生できる)

### 同期再生
サークルで楽曲品評会をインターネット越しにやる時に必要だったので作った。ファイルの選択、再生/停止、シークといった操作が全員に反映される。

### ファイル
|ファイル名|説明|
|----|----|
|ws_server/server.py|同期再生用のサーバー|
|index.html|アップロードのフォームがあるだけ|
|test.php|アップロードするやつ|
|playlist.php|?filenum=1,2,3みたいな感じでファイル番号を渡すと連続再生ができる|
|preview.php|波形画像つきの再生画面|
|player.html|同期再生|
|filelist.php|ファイルリストがjsonで返ってくる|
|del.php|論理削除 ちゃんと動くのかわからん|
|play.php|おそらくゴミ|
|log.txt|ログ|
|fileindex.txt|ファイルリスト(CSV)|


### 既知の問題（同期再生）
- 再生中に人が入ってくると勝手に先頭に戻される？
- 主従関係がないから誰でも操作できる（勝手にさわんな）

### そのうちやること
- リファクタリングしたい（名前がひどすぎる）
- wav以外アップロードできるようにする
- ファイルのリストをcsvじゃなくしたい
- playlist.phpをもう少しいい感じにする